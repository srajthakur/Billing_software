<ion-header>
  <ion-toolbar>

    <ion-buttons slot="start">

      <ion-button (click)="navFun('BILL')" class="custom-button">
        Bill
      </ion-button>
      <ion-button (click)="navFun('RATE')" class="custom-button">
        Rate Fixer
      </ion-button>
      <ion-button (click)="navFun('SETTLEMENT')" class="custom-button">
        Settlement
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
      <ion-button (click)="navFun('SETTING')" class="custom-button">
        <ion-icon name="settings"></ion-icon>
      </ion-button>
      <ion-button (click)="navFun('LOGOUT')" class="custom-button">
        <ion-icon name="log-out"></ion-icon>
      </ion-button>
    </ion-buttons>


  </ion-toolbar>
</ion-header>



<ion-content *ngIf="viewBill == 'allBill'">
  <ion-button mat-icon-button (click)="back()">Back</ion-button>
  <div class="container" >
    <table mat-table [dataSource]="dataSource" class="mat-table">
      <ng-container matColumnDef="billNo">
        <th mat-header-cell *matHeaderCellDef>Bill No</th>
        <td mat-cell *matCellDef="let product">{{ product.billNo }}</td>
      </ng-container>

      <ng-container matColumnDef="totalItem">
        <th mat-header-cell *matHeaderCellDef>Total Item</th>
        <td mat-cell *matCellDef="let product">{{ product.totalItem }}</td>
      </ng-container>

      <ng-container matColumnDef="totalQuantity">
        <th mat-header-cell *matHeaderCellDef>Total Quantity</th>
        <td mat-cell *matCellDef="let product">{{ product.totalQuantity }}</td>
      </ng-container>
      <ng-container matColumnDef="totalAmount">
        <th mat-header-cell *matHeaderCellDef>Total Amount</th>
        <td mat-cell *matCellDef="let product">{{ product.totalAmount }}</td>
      </ng-container>
      <ng-container matColumnDef="paymentMethod">
        <th mat-header-cell *matHeaderCellDef>Payment Method</th>
        <td mat-cell *matCellDef="let product">{{ product.paymentMethod }}</td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</ion-content>
  <ion-content *ngIf="viewBill == 'daySale'">
  <div class="container" >
    <table mat-table [dataSource]="dataSource" class="mat-table">
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Product Code</th>
        <td mat-cell *matCellDef="let product">{{ product.date }}</td>
      </ng-container>

      <ng-container matColumnDef="totalBill">
        <th mat-header-cell *matHeaderCellDef>Product Name</th>
        <td mat-cell *matCellDef="let product">{{ product.totalBill }}</td>
      </ng-container>

      <ng-container matColumnDef="totalSale">
        <th mat-header-cell *matHeaderCellDef>Product Price</th>
        <td mat-cell *matCellDef="let product">{{ product.totalSale }}</td>
      </ng-container>
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>action</th>
        <td mat-cell *matCellDef="let product">
          <ion-button mat-icon-button (click)="settle(product.date)">Settle</ion-button>
          <ion-button mat-icon-button (click)="viewDaySale(product.date)">View</ion-button>
          <ion-button mat-icon-button (click)="listBluetoothDevices()">Printa</ion-button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</ion-content>
<div *ngIf = "bluetoothList.length>0">
<ion-list>
  <ion-item *ngFor="let item of bluetoothList" (click)="selectPrinter(item.id)">
      {{item.name}} {{item.id}}
  </ion-item>
  </ion-list>
  <div>
      Selected Printer: {{selectedPrinter}}
  </div>
  <ion-button expand="full" color="danger" *ngIf='selectedPrinter' (click)="connectAndPrint()">
  PRINT!
  </ion-button>
</div>